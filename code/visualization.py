import matplotlib.pyplot as plt
import cv2
import numpy as np


def visualize(image1, image2, point_pairs):
    scatter_a = np.array([[i[0][0], i[0][1]] for i in point_pairs])
    scatter_b = np.array([[i[1][0], i[1][1]] for i in point_pairs])
    fx, plots = plt.subplots(1, 2, figsize=(20, 10))
    plots[0].imshow(image1)
    plots[1].imshow(image2)
    # plt.plot(640, 570, "og", markersize=10)  # og:shorthand for green circle
    plots[0].scatter(scatter_a[:, 1], scatter_a[:, 0], marker="x", color="red", s=50)
    plots[1].scatter(scatter_b[:, 1], scatter_b[:, 0], marker="x", color="red", s=50)
    plt.show()


def show_img(img):
    plt.imshow(img.astype('uint8'))
    plt.show()

#
# arr = [((245, 131), (204, 344)), ((246, 50), (216, 261)), ((247, 51), (216, 262)), ((247, 124), (207, 336)), ((252, 18), (225, 232)), ((254, 21), (227, 235)), ((257, 48), (231, 261)), ((262, 122), (225, 337)), ((263, 123), (225, 337)), ((263, 362), (302, 302)), ((267, 121), (229, 333)), ((267, 121), (229, 334)), ((267, 121), (229, 335)), ((288, 160), (315, 325)), ((289, 20), (259, 239)), ((289, 20), (260, 239)), ((290, 20), (259, 239)), ((290, 20), (260, 239)), ((300, 101), (265, 317)), ((303, 40), (271, 258)), ((304, 38), (272, 256)), ((304, 73), (270, 293)), ((304, 139), (265, 362)), ((306, 52), (275, 268)), ((306, 77), (272, 295)), ((306, 78), (272, 296)), ((306, 79), (272, 296)), ((307, 70), (273, 289)), ((308, 45), (276, 264)), ((308, 45), (276, 265)), ((309, 41), (278, 261)), ((309, 42), (278, 261)), ((309, 66), (275, 283)), ((309, 67), (276, 284)), ((311, 66), (278, 284)), ((314, 60), (281, 278)), ((316, 60), (284, 279)), ((317, 56), (285, 274)), ((317, 58), (284, 279)), ((317, 58), (285, 279)), ((317, 58), (285, 280)), ((317, 59), (284, 279)), ((317, 59), (284, 280)), ((317, 59), (285, 279)), ((317, 59), (285, 280)), ((317, 60), (284, 279)), ((317, 60), (284, 280)), ((317, 60), (285, 279)), ((317, 60), (285, 280)), ((318, 54), (285, 279)), ((318, 54), (285, 280)), ((318, 55), (285, 274)), ((318, 55), (285, 279)), ((318, 55), (286, 278)), ((318, 57), (285, 279)), ((318, 57), (285, 280)), ((318, 59), (284, 279)), ((318, 59), (285, 274)), ((318, 59), (285, 279)), ((318, 60), (285, 279)), ((318, 61), (284, 280)), ((318, 61), (285, 279)), ((318, 61), (285, 280)), ((318, 63), (284, 282)), ((318, 63), (285, 279)), ((318, 63), (285, 280)), ((319, 54), (286, 278)), ((319, 55), (286, 274)), ((319, 55), (286, 275)), ((319, 55), (286, 278)), ((319, 56), (286, 275)), ((319, 56), (286, 278)), ((319, 58), (285, 279)), ((319, 58), (286, 274)), ((319, 58), (286, 278)), ((319, 59), (286, 278)), ((319, 60), (286, 275)), ((319, 60), (286, 280)), ((319, 61), (286, 280)), ((320, 49), (287, 270)), ((320, 55), (286, 275)), ((320, 55), (286, 278)), ((320, 55), (287, 274)), ((320, 55), (287, 275)), ((320, 55), (287, 276)), ((320, 55), (288, 274)), ((320, 56), (287, 276)), ((320, 57), (287, 276)), ((320, 57), (287, 279)), ((320, 57), (287, 280)), ((320, 59), (287, 274)), ((320, 59), (287, 276)), ((320, 59), (287, 280)), ((320, 61), (287, 279)), ((320, 61), (287, 280)), ((321, 40), (288, 262)), ((321, 54), (287, 274)), ((321, 54), (288, 274)), ((321, 55), (288, 274)), ((321, 59), (288, 274)), ((321, 60), (288, 274)), ((322, 198), (412, 328)), ((323, 87), (288, 307)), ((323, 195), (265, 359)), ((324, 47), (310, 251)), ((324, 47), (485, 203)), ((324, 89), (289, 309)), ((324, 91), (289, 311)), ((326, 42), (293, 264)), ((326, 85), (291, 305)), ((326, 85), (292, 305)), ((326, 89), (291, 309)), ((326, 93), (291, 313)), ((327, 83), (292, 303)), ((327, 83), (293, 303)), ((327, 83), (295, 301)), ((327, 83), (296, 302)), ((327, 83), (296, 305)), ((327, 84), (293, 303)), ((327, 84), (293, 304)), ((327, 84), (293, 305)), ((327, 84), (294, 304)), ((327, 84), (295, 303)), ((327, 85), (291, 305)), ((327, 91), (292, 311)), ((327, 92), (292, 312)), ((328, 44), (294, 266)), ((328, 81), (294, 303)), ((328, 82), (292, 303)), ((328, 82), (293, 302)), ((328, 82), (293, 303)), ((328, 82), (294, 302)), ((328, 82), (294, 303)), ((328, 82), (295, 301)), ((328, 82), (295, 302)), ((328, 82), (299, 303)), ((328, 82), (299, 304)), ((328, 83), (292, 303)), ((328, 83), (293, 302)), ((328, 83), (293, 303)), ((328, 83), (293, 304)), ((328, 83), (293, 305)), ((328, 83), (294, 303)), ((328, 83), (294, 304)), ((328, 83), (295, 302)), ((328, 83), (295, 303)), ((328, 83), (296, 302)), ((328, 84), (291, 305)), ((328, 84), (293, 302)), ((328, 84), (293, 303)), ((328, 84), (293, 304)), ((328, 84), (293, 305)), ((328, 84), (294, 303)), ((328, 84), (294, 304)), ((328, 84), (295, 303)), ((328, 85), (292, 305)), ((328, 85), (293, 305)), ((328, 85), (294, 304)), ((328, 86), (293, 306)), ((328, 89), (293, 309)), ((328, 97), (293, 317)), ((329, 38), (295, 263)), ((329, 81), (293, 302)), ((329, 81), (293, 303)), ((329, 81), (293, 306)), ((329, 81), (294, 302)), ((329, 81), (295, 301)), ((329, 81), (295, 303)), ((329, 81), (296, 304)), ((329, 81), (296, 305)), ((329, 81), (297, 303)), ((329, 81), (297, 304)), ((329, 81), (298, 303)), ((329, 81), (298, 304)), ((329, 81), (299, 303)), ((329, 82), (292, 303)), ((329, 82), (293, 302)), ((329, 82), (293, 303)), ((329, 82), (294, 302)), ((329, 82), (294, 303)), ((329, 82), (295, 302)), ((329, 82), (295, 303)), ((329, 82), (298, 304)), ((329, 82), (298, 305)), ((329, 82), (299, 303)), ((329, 82), (299, 304)), ((329, 82), (300, 303)), ((329, 83), (293, 303)), ((329, 83), (293, 304)), ((329, 83), (294, 302)), ((329, 83), (294, 303)), ((329, 83), (294, 304)), ((329, 83), (295, 302)), ((329, 83), (295, 303)), ((329, 83), (298, 306)), ((329, 84), (293, 305)), ((329, 84), (294, 304)), ((329, 86), (293, 306)), ((329, 96), (294, 316)), ((329, 97), (294, 317)), ((330, 43), (297, 265)), ((330, 80), (295, 301)), ((330, 80), (295, 302)), ((330, 80), (296, 302)), ((330, 80), (296, 303)), ((330, 80), (296, 304)), ((330, 80), (297, 303)), ((330, 81), (292, 303)), ((330, 81), (293, 302)), ((330, 81), (295, 301)), ((330, 81), (295, 302)), ((330, 81), (295, 303)), ((330, 81), (296, 302)), ((330, 81), (298, 303)), ((330, 81), (299, 301)), ((330, 81), (299, 302)), ((330, 81), (299, 304)), ((330, 83), (294, 303)), ((330, 83), (294, 304)), ((330, 83), (295, 302)), ((330, 83), (295, 303)), ((330, 83), (296, 302)), ((330, 84), (295, 303)), ((330, 85), (293, 306)), ((330, 85), (298, 303)), ((330, 85), (298, 304)), ((330, 97), (295, 317)), ((330, 144), (295, 302)), ((331, 81), (295, 302)), ((331, 81), (295, 303)), ((331, 81), (296, 302)), ((331, 81), (296, 303)), ((331, 81), (297, 302)), ((331, 82), (293, 302)), ((331, 82), (295, 301)), ((331, 82), (296, 302)), ((331, 82), (296, 303)), ((331, 82), (297, 302)), ((331, 83), (296, 303)), ((331, 83), (296, 304)), ((331, 83), (297, 303)), ((331, 84), (296, 303)), ((331, 84), (296, 304)), ((331, 85), (293, 302)), ((331, 85), (295, 302)), ((331, 85), (295, 303)), ((331, 85), (296, 305)), ((331, 86), (293, 304)), ((331, 95), (295, 315)), ((332, 36), (299, 260)), ((332, 37), (298, 260)), ((332, 37), (299, 260)), ((332, 41), (299, 264)), ((332, 42), (299, 264)), ((332, 81), (296, 302)), ((332, 81), (296, 303)), ((332, 81), (297, 302)), ((332, 81), (298, 302)), ((332, 82), (296, 302)), ((332, 82), (296, 303)), ((332, 82), (297, 302)), ((332, 82), (297, 303)), ((332, 84), (293, 303)), ((332, 84), (294, 303)), ((332, 84), (296, 305)), ((332, 84), (297, 304)), ((332, 84), (299, 303)), ((332, 97), (297, 317)), ((333, 37), (300, 260)), ((333, 81), (295, 303)), ((333, 81), (298, 302)), ((333, 81), (298, 303)), ((333, 81), (298, 304)), ((333, 81), (299, 301)), ((333, 84), (298, 306)), ((333, 84), (299, 304)), ((333, 85), (298, 306)), ((333, 92), (298, 313)), ((333, 93), (298, 314)), ((333, 94), (298, 315)), ((333, 95), (298, 316)), ((333, 97), (298, 317)), ((334, 31), (301, 254)), ((334, 32), (300, 255)), ((334, 47), (300, 269)), ((334, 80), (295, 303)), ((334, 80), (298, 302)), ((334, 80), (299, 301)), ((335, 36), (302, 260)), ((335, 81), (295, 302)), ((335, 81), (300, 302)), ((335, 83), (299, 304)), ((335, 83), (300, 304)), ((336, 73), (302, 294)), ((336, 74), (301, 295)), ((336, 74), (302, 295)), ((336, 81), (302, 302)), ((336, 99), (301, 320)), ((336, 104), (300, 326)), ((337, 57), (303, 279)), ((337, 57), (303, 280)), ((337, 58), (303, 280)), ((337, 63), (303, 284)), ((337, 63), (303, 285)), ((337, 64), (303, 285)), ((337, 64), (304, 285)), ((337, 71), (303, 293)), ((337, 72), (302, 294)), ((337, 72), (303, 293)), ((337, 73), (302, 295)), ((337, 74), (302, 295)), ((337, 75), (303, 300)), ((337, 76), (302, 295)), ((337, 76), (302, 297)), ((337, 76), (303, 297)), ((337, 76), (303, 298)), ((337, 78), (302, 299)), ((337, 78), (302, 300)), ((337, 78), (302, 301)), ((337, 78), (303, 300)), ((337, 80), (302, 301)), ((337, 81), (302, 302)), ((337, 81), (302, 303)), ((337, 82), (301, 304)), ((337, 82), (302, 303)), ((337, 82), (303, 302)), ((337, 82), (303, 303)), ((337, 99), (302, 319)), ((337, 111), (301, 333)), ((338, 57), (304, 279)), ((338, 63), (304, 285)), ((338, 66), (303, 287)), ((338, 66), (304, 286)), ((338, 66), (304, 288)), ((338, 67), (303, 289)), ((338, 67), (304, 288)), ((338, 67), (304, 289)), ((338, 68), (304, 289)), ((338, 71), (303, 293)), ((338, 72), (303, 293)), ((338, 75), (303, 297)), ((338, 75), (303, 298)), ((338, 75), (304, 297)), ((338, 76), (303, 297)), ((338, 76), (303, 298)), ((338, 76), (303, 299)), ((338, 76), (304, 298)), ((338, 77), (303, 299)), ((338, 78), (303, 299)), ((338, 78), (303, 300)), ((338, 79), (303, 300)), ((338, 80), (209, 336)), ((338, 81), (303, 302)), ((338, 81), (303, 303)), ((338, 99), (303, 320)), ((338, 117), (302, 340)), ((338, 121), (302, 343)), ((339, 57), (305, 279)), ((339, 64), (305, 286)), ((339, 66), (305, 288)), ((339, 67), (305, 289)), ((339, 68), (305, 289)), ((339, 75), (304, 297)), ((339, 76), (304, 297)), ((339, 76), (304, 298)), ((340, 61), (306, 283)), ((340, 63), (306, 285)), ((340, 66), (305, 288)), ((341, 63), (306, 286)), ((342, 63), (308, 286)), ((342, 76), (307, 299)), ((343, 105), (307, 329)), ((343, 106), (307, 329)), ((344, 101), (309, 324)), ((344, 106), (308, 329)), ((345, 57), (311, 280)), ((345, 65), (310, 288)), ((345, 102), (309, 324)), ((346, 99), (310, 322)), ((346, 101), (310, 324)), ((346, 108), (310, 332)), ((347, 62), (312, 285)), ((348, 57), (313, 280)), ((348, 107), (312, 331)), ((349, 104), (313, 327)), ((349, 104), (313, 328)), ((349, 105), (313, 328)), ((349, 105), (314, 328)), ((349, 106), (313, 329)), ((349, 106), (314, 329)), ((349, 107), (313, 330)), ((349, 108), (313, 332)), ((350, 73), (315, 296)), ((350, 102), (314, 326)), ((350, 105), (314, 328)), ((350, 105), (314, 329)), ((350, 106), (313, 329)), ((350, 106), (314, 329)), ((350, 106), (314, 330)), ((350, 107), (313, 331)), ((350, 107), (314, 330)), ((350, 107), (314, 331)), ((350, 109), (314, 332)), ((351, 76), (316, 299)), ((351, 77), (316, 300)), ((351, 108), (315, 332)), ((352, 76), (317, 299)), ((352, 102), (317, 325)), ((352, 103), (316, 327)), ((353, 67), (318, 290)), ((353, 100), (314, 329)), ((353, 101), (317, 325)), ((354, 59), (319, 283)), ((354, 60), (319, 284)), ((354, 61), (320, 285)), ((354, 64), (319, 288)), ((354, 66), (319, 289)), ((354, 68), (319, 291)), ((354, 68), (319, 292)), ((354, 100), (318, 324)), ((354, 112), (318, 336)), ((355, 61), (320, 285)), ((355, 62), (320, 285)), ((355, 62), (320, 286)), ((355, 63), (320, 286)), ((355, 63), (320, 287)), ((355, 124), (319, 348)), ((363, 103), (327, 328)), ((364, 105), (328, 331)), ((365, 72), (329, 298)), ((365, 73), (329, 298)), ((365, 73), (329, 299)), ((365, 74), (329, 299)), ((365, 103), (329, 328)), ((365, 106), (329, 332)), ((365, 107), (329, 332)), ((366, 103), (330, 328)), ((367, 75), (331, 301)), ((367, 76), (331, 299)), ((367, 76), (331, 301)), ((370, 75), (334, 301)), ((370, 75), (334, 303)), ((370, 76), (334, 301)), ((370, 76), (334, 303)), ((370, 76), (334, 304)), ((370, 77), (334, 301)), ((370, 77), (334, 303)), ((370, 77), (334, 304)), ((370, 78), (334, 301)), ((370, 78), (334, 303)), ((370, 78), (334, 304)), ((370, 80), (334, 301)), ((370, 80), (334, 303)), ((370, 80), (334, 304)), ((370, 86), (334, 312)), ((370, 86), (334, 313)), ((370, 87), (334, 312)), ((370, 87), (334, 313)), ((370, 89), (334, 315)), ((370, 99), (334, 325)), ((370, 99), (334, 326)), ((371, 86), (335, 312)), ((371, 89), (335, 315)), ((371, 90), (335, 315)), ((371, 90), (335, 316)), ((371, 91), (335, 316)), ((371, 96), (335, 323)), ((371, 96), (335, 324)), ((371, 97), (335, 323)), ((371, 97), (335, 324)), ((371, 98), (335, 323)), ((371, 98), (335, 324)), ((371, 100), (335, 326)), ((371, 100), (335, 327)), ((372, 90), (336, 317)), ((372, 91), (336, 317)), ((372, 92), (336, 319)), ((372, 92), (336, 320)), ((372, 94), (336, 320)), ((373, 92), (337, 319)), ((373, 92), (337, 320)), ((373, 93), (337, 319)), ((373, 93), (337, 320)), ((373, 93), (337, 321)), ((373, 94), (337, 319)), ((373, 94), (337, 320)), ((373, 94), (337, 321)), ((373, 95), (337, 320)), ((373, 95), (337, 321)), ((409, 34), (371, 266)), ((447, 116), (410, 352)), ((448, 115), (411, 346)), ((448, 120), (411, 356)), ((449, 109), (412, 336)), ((450, 81), (412, 317)), ((450, 87), (412, 323)), ((450, 89), (412, 325)), ((450, 89), (412, 326)), ((450, 90), (412, 326)), ((451, 82), (413, 318)), ((463, 60), (423, 298)), ((465, 35), (424, 275)), ((465, 35), (425, 275)), ((465, 36), (424, 275)), ((465, 37), (424, 276)), ((465, 38), (424, 278)), ((465, 39), (424, 278)), ((465, 40), (424, 280)), ((465, 40), (485, 203)), ((465, 41), (424, 278)), ((465, 41), (424, 279)), ((465, 41), (424, 280)), ((465, 44), (425, 276)), ((465, 44), (485, 203)), ((466, 32), (425, 276)), ((466, 32), (426, 274)), ((466, 32), (485, 203)), ((466, 34), (425, 275)), ((466, 34), (426, 274)), ((466, 35), (425, 274)), ((466, 35), (425, 275)), ((466, 37), (425, 276)), ((467, 34), (426, 273)), ((468, 32), (426, 273))]
#
#
# image1 = cv2.imread('./../image_pairs/image_pairs_02_01.png')
# image2 = cv2.imread('./../image_pairs/image_pairs_02_02.png')
# image1 = cv2.cvtColor(image1, cv2.COLOR_BGR2RGB)
# image2 = cv2.cvtColor(image2, cv2.COLOR_BGR2RGB)
# # arr = [((325, 214), (281, 229)), ((341, 5), (297, 360)), ((350, 106), (305, 203)), ((363, 342), (316, 302))]
# visualize(image1, image2, arr)

